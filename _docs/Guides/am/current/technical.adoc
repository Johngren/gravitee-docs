= Technical overview

== AM architecture

.Gravitee.io AM - Global Architecture
image::am/current/graviteeio-am-global-architecture.png[Gravitee.io AM - Global Architecture]

== AM components

AM is made up of the following components:

  - AM Gateway
  - AM APIs
  - AM Console

AM Gateway::

AM Gateway is the core component of the AM platform. It acts as a trust broker with your identity providers and provides an authentication and authorization flow for your users.

.Gravitee.io AM - Internal Gateway
image::am/current/graviteeio-am-overview-components-gateway.png[Gravitee.io AM - Internal Gateway]

AM APIs::

These RESTful APIs expose services to:

* Manage and configure the AM platform
* Manage users and user sessions
* Manage the authorization flow for OAuth 2.0, OpenID Connect, UMA 2.0 and SCIM 2.0 protocols

All exposed services are restricted by authentication and authorization rules. You can find more information in the link:am_devguide_protocols_overview.html[API Reference^] section.

AM Console::

This web UI acts as a graphical interface to the AM API functionality.

== Plugins

Plugins are additional components that can be _plugged into_ AM Gateway or AM API.
They can customize the component's behavior to exactly fit your needs and technical constraints.

The table below lists the different types of plugins you can use with APIM, with the component(s) they can be plugged into and some examples. For more details of what each plugin type does, see the sections below.

[width="100%",cols="^3,^3,^10",options="header"]
|===
|Type|Components|Examples
| <<gravitee-plugins-idp, Identity Providers>>|Management API/ Gateway|LDAP, Database, Social, ...
| <<gravitee-plugins-policies, Policies>>|Management API / Gateway|Callout
| <<gravitee-plugins-reporters, Reporters>>|Management API / Gateway|MongoDB
| <<gravitee-plugins-repositories, Repositories>>|Management API / Gateway|MongoDB
| <<gravitee-plugins-alerts, Alerts>>|Management API / Gateway|Vertx, ...
|===

[[gravitee-plugins-idp]]
Identity providers::

An *identity provider* brokers trust with external user providers, to authenticate and obtain information about your end users.

Out-of-the-box identity providers are:

* MongoDB
* LDAP / Active Directory
* OpenID Connect IdP (Azure AD, Google)
* SAML 2.0 IdP

[[gravitee-plugins-policies]]
Policies::
A *policy* modifies the behavior of a request or response handled by AM Gateway. It can be chained by a request policy chain or a response policy chain using a logical order.
Policies are used by extension points to guarantee a given business rule is fulfilled during request processing.

An example of a policy is:

* Call external web services during Login Flow (HTTP Callout policy)

[[gravitee-plugins-reporters]]
Reporters::

A *reporter* is used by an AM API or AM Management instance to report many types of event:

* Administration metrics -- administrative tasks (CRUD on resources)
* Authentication / Authorization metrics -- (sign-in activity, sign-up activity)

Out-of-the-box reporters are:

* MongoDB Reporter

[[gravitee-plugins-repositories]]
Repositories::
A *repository* is a storage component for AM platform configuration.

Out-of-the-box repositories are:

* MongoDB Repository

[[gravitee-plugins-alerts]]
Alerts::

An *alert* allows AM to send triggers or events to the Alert Engine, which can be processed to send a notification using the configured plugin notifier.
Configuring the notifier is the responsibility of the trigger.
