= Identifier-first login flow

[label label-version]#New in version 3.12#

Identifier-first login authentication splits the login flow into two stages:

* Step 1: Users enter their username in a window containing a single form field.
+
image::am/current/graviteeio-am-userguide-login-identifier-first-first-page-flow.png[]

* Step 2: They are redirected to the login form with their username prefilled, where they enter their password.
+
image::am/current/graviteeio-am-userguide-login-identifier-first-second-page-flow.png[]
+
If the username is an email address, the user is redirected to an external provider matching the domain, based on a whitelist.

== Enable identifier-first login

To enable an identifier-first login flow:

. In AM Console, to enable identifier-first login:
* at domain level, click *Settings > Login*.
* at application level, click *Applications*, then select your application and click *Settings > Login*.
. Turn on the *Identifier-first login* option and click *SAVE*.
+
image::am/current/graviteeio-am-userguide-login-identifier-first-settings.png[]

== Identity providers allowed domain list

You can enter domain whitelists for external identity providers, so that if the username submitted is an email address and
its domain matches a whitelisted domain during the first step of the flow, the user is redirected to the provider.

If no domain is entered, the user is just redirected to the second login page.

To enter a domain whitelist:

. Click *Settings > Providers*.
. Create a new provider or edit an existing one.
+
link:/Guides/AM/current/user-guide/identity-provider/create-identity-provider.html[Learn more about creating identity providers^]
. In *Domain Whitelist*, enter the domains you want to allow.
. Complete the provider's form and click *SAVE*.
+
image::am/current/graviteeio-am-userguide-login-identifier-first-identity-provider-domain-whitelist.png[]
